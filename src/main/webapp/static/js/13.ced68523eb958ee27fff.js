webpackJsonp([13],{Kl1V:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("aiqZ"),n={name:"SaveText",inject:["reload"],components:{quillEditor:r.quillEditor},data:function(){return{editorOption:{},formCustom:{content:"",title:"",writer:"",writerId:""},ruleValidate:{title:[{required:!0,message:"标题不为空",trigger:"blur"}]}}},methods:{onEditorReady:function(t){},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(""==e.formCustom.content)e.$Message.error("内容不能为空");else if(t){var o=new URLSearchParams;o.append("textContent",e.formCustom.content),o.append("textWriterid",e.formCustom.writerId),o.append("textTitle",e.formCustom.title),e.axios.post("text",o).then(function(t){100===t.data.code?(e.$Message.success("保存成功"),e.$store.commit("setTextNumAdd"),e.$router.push("textsList")):e.$Message.error("保存失败")}).catch(function(t){e.$Message.warning("保存文章失败")})}else e.$Message.error("内容不符合要求")})},handleReset:function(){this.formCustom.content="",this.formCustom.title=""}},computed:{editor:function(){return this.$refs.myQuillEditor.quill}},mounted:function(){this.formCustom.writer=this.$store.state.userInfo.userName,this.formCustom.writerId=this.$store.state.userInfo.userId}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"edit_container"},[o("Form",{ref:"formCustom",staticStyle:{"text-align":"center"},attrs:{model:t.formCustom,rules:t.ruleValidate}},[o("FormItem",{staticStyle:{width:"200px",margin:"0px auto"},attrs:{prop:"title"}},[o("Input",{attrs:{type:"text",placeholder:"请输入标题"},model:{value:t.formCustom.title,callback:function(e){t.$set(t.formCustom,"title",e)},expression:"formCustom.title"}})],1),t._v(" "),o("FormItem",[o("p",{staticStyle:{"text-align":"center","font-weight":"bolder","font-size":"20px",margin:"5px"}},[t._v("作者："+t._s(t.formCustom.writer))])]),t._v(" "),o("FormItem",[o("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},on:{blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},change:function(e){return t.onEditorChange(e)}},model:{value:t.formCustom.content,callback:function(e){t.$set(t.formCustom,"content",e)},expression:"formCustom.content"}})],1),t._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formCustom")}}},[t._v("修改")]),t._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.handleReset}},[t._v("清空")])],1)],1)],1)},staticRenderFns:[]};var s=o("C7Lr")(n,i,!1,function(t){o("gdzt")},"data-v-46f9f6e0",null);e.default=s.exports},gdzt:function(t,e){}});
//# sourceMappingURL=13.ced68523eb958ee27fff.js.map