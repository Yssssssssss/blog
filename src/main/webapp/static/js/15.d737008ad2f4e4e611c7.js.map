{"version":3,"sources":["webpack:///src/components/personal/CollectionsList.vue","webpack:///./src/components/personal/CollectionsList.vue?b4a0","webpack:///./src/components/personal/CollectionsList.vue"],"names":["CollectionsList","name","inject","data","_this","this","pages","pageSize","pageNum","focusList","total","loading","columns1","title","render","h","params","row","text","textTitle","on","click","self","location","href","user","userId","props","type","userName","textContent","replace","substring","$store","state","userInfo","style","marginRight","getToEditor","handleCancleCollect","methods","getOnesAllCollect","_this2","axios","get","then","response","code","map","userAllCollect","list","catch","error","$Message","warning","pageChange","page","_this3","delete","collectUserid","collectTextid","success","commit","reload","$router","push","components","mounted","$route","watch","personal_CollectionsList","_vm","_h","$createElement","_c","_self","attrs","border","stripe","no-data-text","columns","_v","span","offset","_s","current","show-elevator","on-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.d737008ad2f4e4e611c7.js","sourcesContent":["<template>\n    <div>\n      <Table\n        border\n        stripe\n        no-data-text=\"并没有收藏任何东西\"\n        :loading=\"loading\"\n        :columns=\"columns1\"\n        :data=\"focusList\"\n      ></Table>\n      <Row>\n        <Col span=\"4\" offset=\"4\">\n          总共{{total}}条数据\n        </Col>\n        <Col>\n          <Page :total=\"total\" :current=\"pageNum\" show-elevator @on-change=\"pageChange\"/>\n        </Col>\n      </Row>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"CollectionsList\",\n      inject: ['reload'],\n      data() {\n        return {\n          pages: 0,\n          pageSize: 10,\n          pageNum: 1,\n          focusList: [],\n          total: 0,\n          loading: true,\n          columns1: [\n            {\n              title: '文章标题',\n              render: (h, params) => {\n                return h('div', params.row.text.textTitle)\n              }\n            },\n            {\n              title:'作者',\n              render: (h, params) => {\n                return h('Button', {\n                  on:{\n                    click(){\n                      /*this.$router.push('/personHome/')*/\n                      self.location.href=\"#/personHome/\"+params.row.text.user.userId\n                    }\n                  },props:{\n                      type:'text'\n                  }\n                },params.row.text.user.userName)\n              }\n            },\n            {\n              title: '摘要',\n              render:(h,params)=>{\n                return h('div',params.row.text.textContent.replace(/<(style|script|iframe)[^>]*?>[\\s\\S]+?<\\/\\1\\s*>/gi, '').\n                replace(/<[^>]+?>/g, '').replace(/\\s+/g, ' ').replace(/ /g, ' ').replace(/>/g, ' ').substring(0,15)+\"...\" )\n              }\n            },\n            {\n              title: \"操作\",\n              render: (h, params) => {\n                if (this.userId == this.$store.state.userInfo.userId) {\n                  return h('div', [\n                    h('Button', {\n                      props: {\n                        type: \"primary\"\n                      },\n                      style: {\n                        marginRight: '5px'\n                      }, on: {\n                        click: () => {\n                          this.getToEditor(params.row)\n                        }\n                      }\n                    }, \"查看\"),\n                    h('Button', {\n                      props: {\n                        type: \"warning\"\n                      },\n                      style: {\n                        marginRight: '5px'\n                      }, on: {\n                        click: () => {\n                          this.handleCancleCollect(params.row)\n                        }\n                      }\n                    }, \"取消收藏\")\n                  ]);\n                }else{\n                  return h('div', [\n                    h('Button', {\n                      props: {\n                        type: \"primary\"\n                      },\n                      style: {\n                        marginRight: '5px'\n                      }, on: {\n                        click: () => {\n                          this.getToEditor(params.row)\n                        }\n                      }\n                    }, \"查看\")])\n                }\n              }\n            }\n          ]\n        }\n      }, methods: {\n        getOnesAllCollect() {\n          this.axios.get('collect/' + this.userId, {params: {pageNum: this.pageNum}}).then(response => {\n            if (response.data.code === 100) {\n              this.focusList = response.data.map.userAllCollect.list\n              this.pages = response.data.map.userAllCollect.pages\n              this.pageNum = response.data.map.userAllCollect.pageNum\n              this.pageSize = response.data.map.userAllCollect.pageSize\n              this.total = response.data.map.userAllCollect.total\n            }\n            this.loading = false\n          }).catch(error => {\n            this.$Message.warning(\"获取关注列表失败\")\n          })\n        }/*,\n        selectionChange(selection) {//选项发生改变的时候执行\n          this.selectionDate = selection\n        }*/, pageChange(page) {\n          this.pageNum = page\n        }, handleCancleCollect(row) {\n          this.axios.delete('collect', {\n            params: {\n              collectUserid: row.collectUserid,\n              collectTextid: row.collectTextid\n            }\n          }).then(response => {\n            if (response.data.code === 100) {\n              this.$Message.success(\"取消收藏\")\n              this.$store.commit('setCollectionsNumSub')\n              this.reload()\n            } else {\n              this.$Message.error(\"取消收藏失败\")\n            }\n          }).catch(error => {\n            this.$Message.warning(\"取藏失败\")\n          })\n        },getToEditor(row){\n          this.$router.push(\"editor?textId=\"+row.collectTextid)\n        }\n      }\n      ,\n      components: {\n      }\n      ,\n      mounted()\n      {      this.userId=this.$route.params.userId\n\n        this.getOnesAllCollect()\n      }\n      ,\n      watch:{\n        pageNum:function () {\n          this.getOnesAllCollect()\n        }\n      }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/personal/CollectionsList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Table',{attrs:{\"border\":\"\",\"stripe\":\"\",\"no-data-text\":\"并没有收藏任何东西\",\"loading\":_vm.loading,\"columns\":_vm.columns1,\"data\":_vm.focusList}}),_vm._v(\" \"),_c('Row',[_c('Col',{attrs:{\"span\":\"4\",\"offset\":\"4\"}},[_vm._v(\"\\n      总共\"+_vm._s(_vm.total)+\"条数据\\n    \")]),_vm._v(\" \"),_c('Col',[_c('Page',{attrs:{\"total\":_vm.total,\"current\":_vm.pageNum,\"show-elevator\":\"\"},on:{\"on-change\":_vm.pageChange}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-23b52037\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/personal/CollectionsList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23b52037\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./CollectionsList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./CollectionsList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./CollectionsList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23b52037\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./CollectionsList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-23b52037\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/personal/CollectionsList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}