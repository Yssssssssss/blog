{"version":3,"sources":["webpack:///src/components/page/Register.vue","webpack:///./src/components/page/Register.vue?c6d1","webpack:///./src/components/page/Register.vue"],"names":["Register","name","data","_this","this","focus","formCustom","username","password","passwordCheck","email","gender","headPortrait","ruleCustom","validator","rule","value","callback","Error","axios","get","then","response","code","catch","error","$Message","trigger","$refs","validateField","required","message","type","methods","handleSubmit","_this2","validate","valid","params","URLSearchParams","append","post","success","$router","push","warning","handleReset","resetFields","handleSuccess","res","map","handleFormatError","file","$Notice","title","desc","handleMaxSize","page_Register","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","justify","align","ref","label-position","model","rules","label-width","label","prop","autofocus","$$v","$set","expression","_v","on-success","format","max-size","on-format-error","on-exceeded-size","multiple","action","icon","on","click","$event","staticStyle","margin-left","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.19c56da4ecd37036db89.js","sourcesContent":["<template>\n  <div class=\"register\">\n    <Row type=\"flex\" justify=\"center\" align=\"middle\" class=\"code-row-bg\">\n      <Form class=\"registerForm\" label-position=\"left\" ref=\"formCustom\" :model=\"formCustom\" :rules=\"ruleCustom\"\n            :label-width=\"80\">\n        <FormItem label=\"用户名\" prop=\"username\">\n          <Input type=\"text\" v-model=\"formCustom.username\" :autofocus=\"focus\"></Input>\n        </FormItem>\n        <FormItem label=\"密码\" prop=\"password\">\n          <Input type=\"password\" v-model=\"formCustom.password\"></Input>\n        </FormItem>\n        <FormItem label=\"确认密码\" prop=\"passwordCheck\">\n          <Input type=\"password\" v-model=\"formCustom.passwordCheck\"></Input>\n        </FormItem>\n        <FormItem label=\"邮箱\" prop=\"email\">\n          <Input type=\"email\" v-model=\"formCustom.email\"></Input>\n        </FormItem>\n        <FormItem>\n          <Upload\n            ref=\"upload\"\n            :on-success=\"handleSuccess\"\n            :format=\"['jpg','jpeg','png']\"\n            :max-size=\"2048\"\n            :on-format-error=\"handleFormatError\"\n            :on-exceeded-size=\"handleMaxSize\"\n            multiple\n            action=\"http://106.14.137.176:8080/blog/file\"\n          >\n            <Button icon=\"ios-cloud-upload-outline\">上传头像</Button>\n          </Upload>\n        </FormItem>\n        <FormItem label=\"性别\" prop=\"gender\">\n          <radio-group v-model=\"formCustom.gender\">\n            <Radio label=\"M\" value=\"M\">男</Radio>\n            <Radio label=\"F\" value=\"F\">女</Radio>\n          </radio-group>\n        </FormItem>\n        <FormItem>\n          <Button type=\"primary\" @click=\"handleSubmit('formCustom')\">注册</Button>\n          <Button @click=\"handleReset('formCustom')\" style=\"margin-left: 8px\">重置</Button>\n        </FormItem>\n      </Form>\n    </Row>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"Regist\",\n    data() {\n      const validatePass = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入密码'));\n        } else {\n          if (this.formCustom.passwordCheck !== '') {\n            // 对第二个密码框单独验证\n            this.$refs.formCustom.validateField('passwordCheck');\n          }\n          callback();\n        }\n      };\n      const validatePassCheck = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请再次输入密码'));\n        } else if (value !== this.formCustom.password) {\n          callback(new Error('两次输入不一致'));\n        } else {\n          callback();\n        }\n      }\n      const validateUsername = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error(\"用户名不能为空\"))\n        } else {\n\n          this.axios.get('user/' + this.formCustom.username).then(response => {\n             if(response.data.code==200){\n               callback()\n             } else{\n               callback(\"该用户名已被注册\")\n             }\n          }).catch(error => {\n            this.$Message.error(\"校验用户名失败\")\n          })\n        }\n      }\n      return {\n        focus:true,\n        formCustom: {\n          username: '',\n          password: '',\n          passwordCheck: '',\n          email: '',\n          gender: 'M',\n          headPortrait: 'default.jpg'\n        },\n        ruleCustom: {\n          username: [\n            {validator: validateUsername, trigger: 'blur'}\n          ],\n          password: [\n            {validator: validatePass, trigger: 'blur'}\n          ],\n          passwordCheck: [\n            {\n              validator: validatePassCheck, trigger: 'blur'\n            }\n          ], email: [\n            {required: true, message: \"邮箱不能为空\", trigger: 'blur'},\n             {type: 'email', message: '邮箱格式不正确', trigger: 'blur'}\n          ]\n        }\n      }\n    },\n    methods: {\n      handleSubmit(name) {\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            var params = new URLSearchParams();\n            params.append(\"userName\", this.formCustom.username);\n            params.append(\"userPassword\", this.formCustom.password);\n            params.append(\"userEmail\", this.formCustom.email);\n            params.append(\"userGender\", this.formCustom.gender);\n            params.append(\"userHeadportrait\", this.formCustom.headPortrait);\n            this.axios.post(\"register\", params).then(response => {\n              if (response.data.code === 100) {\n                this.$Message.success('注册成功')\n                this.$router.push(\"/login\")\n              } else {\n                this.$Message.error(\"注册失败\")\n              }\n            }).catch(error => {\n              this.$Message.warning('错误！请重新注册')\n            })\n          } else {\n            this.$Message.error('Fail!');\n          }\n        })\n      },\n      handleReset(name) {\n        this.$refs[name].resetFields();\n      }, handleSuccess(res) {\n        this.formCustom.headPortrait = res.map.headPortrait\n      },\n      handleFormatError(file) {\n        this.$Notice.warning({\n          title: '图片格式不正确',\n          desc: file.name + ' 不是一张图片'\n        });\n      },\n      handleMaxSize(file) {\n        this.$Notice.warning({\n          title: '超出文件大小限制',\n          desc: '图片 ' + file.name + ' 大于2M'\n        });\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .register {\n    position: relative;\n    width: 100%;\n    height: 1080px;\n    background-image: url(\"../../../static/img/1.png\");\n    background-size: 100%;\n  }\n\n  .registerForm {\n    width: 350px;\n    height: auto;\n    background-color: rgba(255, 255, 255, 0.6);\n    padding: 30px;\n    border-radius: 5px;\n    margin: 0px auto;\n    margin-top: 200px;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/Register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('Row',{staticClass:\"code-row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\"}},[_c('Form',{ref:\"formCustom\",staticClass:\"registerForm\",attrs:{\"label-position\":\"left\",\"model\":_vm.formCustom,\"rules\":_vm.ruleCustom,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('Input',{attrs:{\"type\":\"text\",\"autofocus\":_vm.focus},model:{value:(_vm.formCustom.username),callback:function ($$v) {_vm.$set(_vm.formCustom, \"username\", $$v)},expression:\"formCustom.username\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\"},model:{value:(_vm.formCustom.password),callback:function ($$v) {_vm.$set(_vm.formCustom, \"password\", $$v)},expression:\"formCustom.password\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"确认密码\",\"prop\":\"passwordCheck\"}},[_c('Input',{attrs:{\"type\":\"password\"},model:{value:(_vm.formCustom.passwordCheck),callback:function ($$v) {_vm.$set(_vm.formCustom, \"passwordCheck\", $$v)},expression:\"formCustom.passwordCheck\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('Input',{attrs:{\"type\":\"email\"},model:{value:(_vm.formCustom.email),callback:function ($$v) {_vm.$set(_vm.formCustom, \"email\", $$v)},expression:\"formCustom.email\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Upload',{ref:\"upload\",attrs:{\"on-success\":_vm.handleSuccess,\"format\":['jpg','jpeg','png'],\"max-size\":2048,\"on-format-error\":_vm.handleFormatError,\"on-exceeded-size\":_vm.handleMaxSize,\"multiple\":\"\",\"action\":\"http://106.14.137.176:8080/blog/file\"}},[_c('Button',{attrs:{\"icon\":\"ios-cloud-upload-outline\"}},[_vm._v(\"上传头像\")])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"性别\",\"prop\":\"gender\"}},[_c('radio-group',{model:{value:(_vm.formCustom.gender),callback:function ($$v) {_vm.$set(_vm.formCustom, \"gender\", $$v)},expression:\"formCustom.gender\"}},[_c('Radio',{attrs:{\"label\":\"M\",\"value\":\"M\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"F\",\"value\":\"F\"}},[_vm._v(\"女\")])],1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formCustom')}}},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){return _vm.handleReset('formCustom')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2408cdcb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/page/Register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2408cdcb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Register.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2408cdcb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2408cdcb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/Register.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}