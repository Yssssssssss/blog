webpackJsonp([10],{GF4k:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=t("3cXf"),o=t.n(r),a={name:"Login",data:function(){return{focus:!0,formCustom:{username:"",password:""},ruleCustom:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{handleRegist:function(){console.log("跳转到注册"),this.$router.push("/register")},handleSubmit:function(e){var s=this;this.$refs[e].validate(function(e){if(e){var t=new URLSearchParams;t.append("userName",s.formCustom.username),t.append("userPassword",s.formCustom.password),s.axios.post("login",t).then(function(e){100==e.data.code?(sessionStorage.setItem("userInfo",o()(e.data.map.user)),s.$Message.success("登陆成功!"),s.$store.commit("setLogin"),"/register"===s.$store.state.fromPath?s.$router.push("/"):s.$router.back()):s.$Message.error("用户名或密码错误请重试!")}).catch(function(e){s.$Message.warning("错误请重新登陆")})}else s.$Message.error("Fail!")})}}},n={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login"},[t("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"center",align:"middle"}},[t("Form",{ref:"formCustom",staticClass:"loginForm",attrs:{model:e.formCustom,rules:e.ruleCustom,"label-width":80}},[t("FormItem",{attrs:{label:"username",prop:"username"}},[t("Input",{attrs:{type:"text",autofocus:e.focus},model:{value:e.formCustom.username,callback:function(s){e.$set(e.formCustom,"username",s)},expression:"formCustom.username"}})],1),e._v(" "),t("FormItem",{attrs:{label:"Password",prop:"password"}},[t("Input",{attrs:{type:"password","on-enter":"handleSubmit('formCustom')"},model:{value:e.formCustom.password,callback:function(s){e.$set(e.formCustom,"password",s)},expression:"formCustom.password"}})],1),e._v(" "),t("FormItem",[t("Button",{attrs:{type:"primary"},on:{click:function(s){return e.handleSubmit("formCustom")}}},[e._v("登陆")]),e._v(" "),t("Button",{staticStyle:{"margin-left":"30px"},on:{click:e.handleRegist}},[e._v("注册")])],1)],1)],1)],1)},staticRenderFns:[]};var u=t("C7Lr")(a,n,!1,function(e){t("P8rE")},"data-v-ef9f2f78",null);s.default=u.exports},P8rE:function(e,s){}});
//# sourceMappingURL=10.261fd1b806ccdb040010.js.map